import { SchemaToExpressionGenerator } from "../generators/generate-types.js";
import { generateNamespaceName } from "./generate-namespace-name.js";
export function createContext(parser, openApi3Doc) {
    const rootNamespace = generateNamespaceName(openApi3Doc.info.title);
    const schemaExpressionGenerator = new SchemaToExpressionGenerator(rootNamespace);
    const context = {
        openApi3Doc,
        rootNamespace,
        getRefName(ref, callingScope) {
            return schemaExpressionGenerator.getRefName(ref, callingScope);
        },
        generateTypeFromRefableSchema(schema, callingScope) {
            return schemaExpressionGenerator.generateTypeFromRefableSchema(schema, callingScope);
        },
        getSchemaByRef(ref) {
            return this.getByRef(ref);
        },
        getByRef(ref) {
            return parser.$refs.get(ref);
        },
    };
    return context;
}
//# sourceMappingURL=context.js.map